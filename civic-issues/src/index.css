@tailwind base;
@tailwind components;
@tailwind utilities;

/* ─── Base ─── */
@layer base {
  *, *::before, *::after {
    box-sizing: border-box;
  }

  html {
    font-size: 16px;
    -webkit-font-smoothing: antialiased;
    -moz-osx-font-smoothing: grayscale;
  }

  body {
    @apply font-sans text-gray-800 bg-gray-50 min-h-screen;
    margin: 0;
    padding: 0;
  }

  /* Scrollbar */
  ::-webkit-scrollbar {
    width: 6px;
    height: 6px;
  }
  ::-webkit-scrollbar-track {
    @apply bg-transparent;
  }
  ::-webkit-scrollbar-thumb {
    @apply bg-gray-300 rounded-full;
  }
  ::-webkit-scrollbar-thumb:hover {
    @apply bg-gray-400;
  }

  /* Focus ring */
  input:focus,
  select:focus,
  textarea:focus,
  button:focus {
    outline: none;
  }

  /* Leaflet map container fix */
  .leaflet-container {
    z-index: 0;
  }
}

/* ─── Components ─── */
@layer components {

  /* Buttons */
  .btn {
    @apply inline-flex items-center justify-center gap-2
           px-4 py-2 rounded-lg text-sm font-semibold
           transition-all duration-200 ease-in-out
           disabled:opacity-50 disabled:cursor-not-allowed
           focus:ring-2 focus:ring-offset-2;
  }
  .btn-primary {
    @apply btn bg-blue-600 text-white
           hover:bg-blue-700 active:bg-blue-800
           focus:ring-blue-500;
  }
  .btn-secondary {
    @apply btn bg-white text-gray-700 border border-gray-300
           hover:bg-gray-50 active:bg-gray-100
           focus:ring-gray-400;
  }
  .btn-danger {
    @apply btn bg-red-600 text-white
           hover:bg-red-700 active:bg-red-800
           focus:ring-red-500;
  }
  .btn-success {
    @apply btn bg-green-600 text-white
           hover:bg-green-700 active:bg-green-800
           focus:ring-green-500;
  }
  .btn-warning {
    @apply btn bg-amber-500 text-white
           hover:bg-amber-600 active:bg-amber-700
           focus:ring-amber-400;
  }
  .btn-ghost {
    @apply btn bg-transparent text-gray-600
           hover:bg-gray-100 active:bg-gray-200
           focus:ring-gray-300;
  }
  .btn-sm {
    @apply px-3 py-1.5 text-xs;
  }
  .btn-lg {
    @apply px-6 py-3 text-base;
  }
  .btn-full {
    @apply w-full;
  }

  /* Inputs */
  .input-field {
    @apply w-full px-3 py-2 rounded-lg border border-gray-300
           bg-white text-gray-800 text-sm placeholder-gray-400
           transition-colors duration-200
           focus:border-blue-500 focus:ring-2 focus:ring-blue-100
           disabled:bg-gray-100 disabled:text-gray-500 disabled:cursor-not-allowed;
  }
  .input-field.input-error {
    @apply border-red-400 focus:border-red-500 focus:ring-red-100;
  }
  .input-label {
    @apply block text-sm font-medium text-gray-700 mb-1;
  }
  .input-error-msg {
    @apply mt-1 text-xs text-red-500;
  }
  .input-hint {
    @apply mt-1 text-xs text-gray-500;
  }

  /* Cards */
  .card {
    @apply bg-white rounded-xl shadow-sm border border-gray-100 p-5;
  }
  .card-header {
    @apply flex items-center justify-between mb-4 pb-3 border-b border-gray-100;
  }
  .card-title {
    @apply text-base font-semibold text-gray-800;
  }

  /* Badges */
  .badge {
    @apply inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium;
  }
  .badge-primary   { @apply bg-blue-100 text-blue-700; }
  .badge-success   { @apply bg-green-100 text-green-700; }
  .badge-warning   { @apply bg-amber-100 text-amber-700; }
  .badge-danger    { @apply bg-red-100 text-red-700; }
  .badge-gray      { @apply bg-gray-100 text-gray-600; }

  /* Alerts */
  .alert {
    @apply flex items-start gap-3 p-4 rounded-lg text-sm;
  }
  .alert-success { @apply bg-green-50 border border-green-200 text-green-800; }
  .alert-error   { @apply bg-red-50   border border-red-200   text-red-800;   }
  .alert-warning { @apply bg-amber-50 border border-amber-200 text-amber-800; }
  .alert-info    { @apply bg-blue-50  border border-blue-200  text-blue-800;  }

  /* Page shell */
  .page-container {
    @apply max-w-6xl mx-auto px-4 sm:px-6 py-6;
  }
  .page-title {
    @apply text-2xl font-bold text-gray-900 mb-1;
  }
  .page-subtitle {
    @apply text-sm text-gray-500;
  }
}

/* ─── Utilities ─── */
@layer utilities {
  .sr-only {
    @apply absolute w-px h-px p-0 m-[-1px] overflow-hidden whitespace-nowrap border-0;
    clip: rect(0,0,0,0);
  }
  .truncate-2 {
    display: -webkit-box;
    -webkit-line-clamp: 2;
    -webkit-box-orient: vertical;
    overflow: hidden;
  }
  .truncate-3 {
    display: -webkit-box;
    -webkit-line-clamp: 3;
    -webkit-box-orient: vertical;
    overflow: hidden;
  }
}